In our DCDP framework, in which time is continuous and indexed by $t \in [0, \infty)$, we assume a continuum of infinitesimally small potential drilling sites in which horizontal wells will be developed. Let $R_{t}$ denote the measure of undrilled well sites at time $t$. In the AKS framework, $R_{t}$ is the remaining reserves at time $t$. Therefore, the two can be equal but do not have to be. Without loss of generality, we fix the initial level of potential well sites in the market to be the value of one (i.e., $R_{0} = 1$). For simplicity, it is also assumed that only one horizontal well is drilled into an infinitesimal site. 

Each infinitesimal well site is owned by a single fracking firm indexed by an integer scalar $i = 1, 2, \cdots$.\footnote{In this paper, we use $i$ to denote a potential well site or a firm interchangeably.} A Poisson arrival process with rate parameter $\lambda_{a}$ governs firms' drilling opportunity. In other words, for the firm $i$, an opportunity to drill arrives at rate $\lambda_{a}$. When a drilling opportunity arrives at time $t$, the firm $i$ makes a choice at time $t$, denoted $a_{it}$, between two alternatives in a discrete choice set $\mathcal{A} = \{ 0, 1 \}$:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Control-Variable.tex}
As implied, $a_{it}$ is a well-site-level control variable. If the choice made by the firm $i$ at time $t$ is $a_{it} = 0$, the firm has another drilling opportunity that comes later. In other words, $a_{it} = 0$ is a costless continuation choice. On the other hand, when $a_{it} = 1$, the firm $i$ exits the market after drilling a horizontal well into the site and producing oil from it. 

The oil production from the horizontal well drilled into site $i$ at time $t$ is assumed to occur only during the same period:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Oil-Production.tex}
where $\alpha$ is the amount of oil produced from a well. For simplicity, we assume that $\alpha$ is a constant across locations. This formulation can certainly be modified to allow for production decline over time. However, we mainly focus on firms' investment and drilling decisions, so we abstract away from production declines. In an empirical exercise, account for the fact that a well produces for multiple periods by assuming that firms sell their production forward and receive the present value of revenue at the time they drill and complete the well. 

The linear cost of drilling a horizontal well into the site $i$ is assumed. That is,
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Cost.tex}
For simplicity, it is also assumed that the drilling cost for the marginal well is uniform across well sites (i.e., $c$ is the same for all potential well locations.). In addition, as in Section \ref{C3-SubSection:A-Limitation-of-AKS-style-Model}, we take the assumption of the negligible extraction costs.

In our theoretical framework, firms' site-level drilling decisions can be easily aggregated at the market level. It is natural to define aggregate drilling in the market at time $t$, denoted $D_{t}$, as follows:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Aggregate-Drilling.tex}
In this definition, $\lambda_{a} R_{t}$ indicates a group of potential sites into which a horizontal well can be drilled when a drilling opportunity arrives at time $t$.\footnote{This interpretation implies $\lambda_{a} \leq 1$.} If each potential well site has the same probability of drilling a horizontal well into it at time $t$ (denoted $Pr_{t}$), then $D_{t}$ can be expressed as follows\footnote{In the expression, $\lambda_{a} Pr_{t}$ indicates the probability of drilling a potential well site in the next instant, given it has not been drilled to time $t$. That is, $\lambda_{a} Pr_{t}$ is the hazard rate at time $t$, denoted $h_{t}$. Therefore, it is natural that $D_{t} = R_{t} h_{t}$.}:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Aggregate-Drilling_Using-Probability.tex}
We further assume that each period, measure $E$ locations are also exogenously discovered and added to the set of potential sites. We ignore the exploration-associated costs in our formulation. So, the evolution path of the remaining well sites is governed by the following relationship:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Reserve.tex}
In addition, because we assume that $\alpha$ is uniform across potential sites, aggregate oil production in the market at time $t$, denoted $Q_{t}$, is simply proportional to $D_{t}$:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Aggregate-Oil-Production.tex}

Oil prices are discretized. For a given oil production $Q$, the following inverse demand function determines the oil price\footnote{For simplicity, we omit the $t$ subscript in the inverse demand function.}:
\input{04_Chapter-3/00C_Equations/Equation_Firms-Problem_Oil-Prices.tex}
Here, $k$ is an integer scalar index $k = 1, 2, \cdots, K$, by which every available demand level $p_{0,k}$ in a finite state space $\mathcal{X}$ is enumerated.\footnote{In other words, $\mathcal{X}$ is a discrete state space for $p_{0,k}$.} Moreover, $p_{0,k}$ and $\widebar{p}_{1}$ are non-negative. Oil prices determined by the function can vary due to a finite-state Markov jump process.\footnote{A Markov jump process with finite states is a stochastic process that has discrete movements governed by a Poisson arrival process. For details, see \cite{Time-Discretization-of-Markov-Chains_Doytchinov-and-Irby_2010}.} The process is a jump process on $\mathcal{X}$. Parameters $\lambda_{k\ell}$ that indicate the rates at which particular exogenous state transitions from $k$ to $\ell \neq k$ occur govern this process. This formulation allows oil prices to evolve endogenously in a smooth way, and it also accommodates stochastic price jumps. It is also assumed that all firms in the market take oil prices as given in a competitive equilibrium. 

An infinitesimal well site provides two different types of payoffs. First, each undrilled well site generates a continuous and constant flow payoff (denoted $f_{t}$) that could be zero or negative. Second, choosing an action in the choice set $\mathcal{A}$ when a drilling opportunity arrives at time $t$ yields an instantaneous payoff. An additively separable payoff function, denoted $U(\boldsymbol{X}_{t}, \epsilon_{t})$, represents the instantaneous payoff:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Payoff-Function.tex}
In the payoff function, $\boldsymbol{X}_{t}$ is a vector of relevant state and control variables. In addition, $\psi(\cdot)$ and $\epsilon_{at}$ indicate a choice-specific instantaneous payoff from oils produced from the site and choice-specific cost shocks, respectively. Of note, contrary to the flow payoff, the instantaneous payoff is applicable only to potential well locations under a drilling opportunity. 

The choice-dependent instantaneous payoff $\psi(\cdot)$ is defined differently for two maximization problems, the social planner's and firm's problems, which will be discussed in the following sections. Specifically, in the social planner's problem, the instantaneous payoff is the net benefit achieved by consuming oils produced from drilled well sites in the market:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Payoff-Function_Social-Planners-Problem.tex}
Here, $u(\cdot)$ is the total utility obtained from oil consumption at time $t$, whereas $c(\cdot)$ is the total drilling cost at time $t$. For the case of $Q_{t} = 0$, $u(\cdot)$ and $c(\cdot)$ are normalized to zero.\footnote{From equation (\ref{Equation:DCDP-Model_Aggregate-Oil-Production}), it is clear that $Q_{t} = 0$ implies $D_{t} = 0$.} Of note, $\boldsymbol{X}_{t} = (Q_{t}, D_{t})$ in this maximization problem.\footnote{In the social planner's problem, the state and control variables are $R_{t}$ and $Pr_{t}$, respectively. For details, see Section \ref{C3-SubSection:Social-Planners-Problem-and-Necessary-Conditions}.} On the other hand, in the firm's problem, the instantaneous payoff is simply the net profit from oil production. So, if the firm $i$'s choice is $a_{it} = 1$ when a drilling opportunity arrives at time $t$, then
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Payoff-Function_Firms-Problem.tex}
Here, the firm $i$ is supposed to be in state $k$. As shown, $\boldsymbol{X}_{t} = (p_{k})$ in the firm's problem.

In the payoff function, $\epsilon_{at}$, a component of the payoff of an alternative $a$, is an idiosyncratic cost shock at time $t$.\footnote{We can regard $\epsilon_{a, t}$ as an element of the unobservable state vector $\boldsymbol{\epsilon}_{t}$. In our case that $\mathcal{A} = \{ 0, 1 \}$, $\boldsymbol{\epsilon}_{t} = ( \epsilon_{0t}, \ \epsilon_{1t} )$.} In our context, $\epsilon_{at}$, which relies on the choice of a decision maker (e.g., the social planner or the firm), can be perceived as a composite cost element that affects the decision maker's choice at time $t$ between drilling today and drilling in the future and that varies over time. For example, for the firm $i$, $\epsilon_{at}$ could include capacity-constraint-induced costs, whose value varies with $a_{it}$. With the interpretation of $\epsilon_{at}$, it is not required to specifically model a set of constraints at time $t$ in our framework. 

The choice-specific cost shock $\epsilon_{at}$ drives the decision maker's drilling decision at time $t$. Because the shock is observable only by it, without $\epsilon_{at}$, the (observable) state variable cannot perfectly explain the choice at time $t$ in our model. Intuitively, when the decision maker decides whether to drill a well into a given well site or not at time $t$, $a_{t} = 1$ will be the optimal choice if the value of the payoff function conditional on $a_{t} = 1$ is greater than or equal to that conditional on $a_{t} = 0$. Mathematically, 
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Decision-Rule.tex}
The decision rule implies that the magnitude of $\epsilon_{1t} - \epsilon_{0t}$ determines the optimal choice. 

Since $\epsilon_{at}$ is not observable, utilizing the decision rule directly is infeasible. However, according to \cite{Euler-Equations-for-the-Estimation-of-Dynamic-Discrete-Choice-Structural-Models_Aguirregabiria-and-Magesan_2013}, the expected value of $\epsilon_{at}$ conditional on alternative $a_{t}$ being chosen under the decision rule can be expressed with $Pr_{t}$. To be specific, when $a_{t} = 1$, the conditional expected value of $\epsilon_{1t}$, denoted $e_{1t}$, is given as follows\footnote{In other words, $e_{at}$ indicate the mean of the cost shock conditional on choice $a_{t}$.}:
\input{04_Chapter-3/00C_Equations/Equation_DCDP-Model_Expected-Value-of-Epsilon.tex}
Here, $\gamma$ is Euler's constant. And it is assumed that $\epsilon_{at}$ follow the Type 1 Extreme Value (T1EV) distribution with the location parameter 0 and the scale parameter $\sigma$ and are independently and identically distributed. The expected value allows our analytical as well as empirical analysis of drilling decisions to be tractable without observing $\epsilon_{at}$. Throughout this paper, we keep the assumption about the distribution of the cost shocks. 
