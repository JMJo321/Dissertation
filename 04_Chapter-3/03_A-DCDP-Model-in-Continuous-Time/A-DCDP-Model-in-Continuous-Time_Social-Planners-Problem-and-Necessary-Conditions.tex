In this section, using the continuous-time DCDP framework, we develop the social planner's problem. Each period, the social planner makes two choices. First, the planner must choose, via the choice of $Pr_{t}$, the aggregate quantity of drilling. Second, the planner must also decide which locations will be drilled. Each site can be indexed by $\epsilon_{0} - \epsilon_{1}$, and so selecting which sites to drill can be thought of as selecting which indices to drill. Because there is a continuum of well locations, determining the optimal policy is simply to choose a threshold that does not depend on the specific set of cost shocks realized at time $t$. Well sites with indices above the threshold drill, whereas those below it wait to drill. The one-to-one mapping between the threshold index and the choice of $Pr_{t}$ is characterized by equation (\ref{Equation:DCDP-Model_Decision-Rule}).

In the continuous-time DCDP framework, the social planner's problem is given by
\input{04_Chapter-3/00C_Equations/Equation_Social-Planners-Problem_Formulation.tex}
In this formulation, we further assume that fracking firms will have additional new well sites (denoted $E$) augmented at a constant rate as a result of their exploration efforts. We ignore the exploration-associated costs in our formulation. The first two terms in the square bracket collectively mean the net utility from the output (i.e., oil or gas) produced by drilling well sites at time $t$. The third term in the square bracket is the aggregate flow utility from undrilled well locations. The rest in the square bracket represents the aggregate expected value of choice-specific cost shocks for the undeveloped well sites at time $t$.\footnote{Another interpretation of what the terms in the square bracket mean as a whole is the sum of the net (expected) payoff obtained from the marginally drilled well site $\left( \text{i.e., } u(\alpha R_{t} Pr_{t}) - c(R_{t} Pr_{t}) + R_{t} Pr_{t} \sigma \big( \gamma - \ln(Pr_{t}) \big) \right)$ and the (expected) gains from the available but not yet drilled well locations $\left( \text{i.e., } R_{t} f_{t} + R_{t} (1 - Pr_{t}) \sigma \big( \gamma - \ln(1 - Pr_{t}) \big) \right)$.} Note that the maximization problem does not consider heterogeneity in the quality of well locations yet. 

Under the assumption of interior solution, the current-value Hamiltonian-Lagrangian of the social planner's problem is given by
\input{04_Chapter-3/00C_Equations/Equation_Social-Planners-Problem_Hamiltonian-Lagrangian.tex}

The necessary conditions of the current-value Hamiltonian-Lagrangian are as follows\footnote{In the following conditions, C.S. stands for complementary slackness.}:
\input{04_Chapter-3/00C_Equations/Equation_Social-Planners-Problem_Necessary-Conditions.tex}
From condition (\ref{Equation:Social-Planners-Problem_Necessary-Conditions_Drilling-Probability}), the costate variable $\pi_{t}$ can be expressed as a function of $R_{t}$ and $Pr_{t}$:
\input{04_Chapter-3/00C_Equations/Equation_Social-Planners-Problem_Necessary-Conditions_Meaning-of-Costate-Variable.tex}
We will discuss the implications of necessary conditions (\ref{Equation:Social-Planners-Problem_Necessary-Conditions_Costate-Variable}) and (\ref{Equation:Social-Planners-Problem_Meaning-of-Costate-Variable}) later. 

The social planner's problem has a unique steady state $(R_{ss}, \pi_{ss})$ such that $\dot{R}_{ss} = \dot{\pi}_{ss} = 0$. From necessary conditions (\ref{Equation:Social-Planners-Problem_Law-of-Motion}) and (\ref{Equation:Social-Planners-Problem_Necessary-Conditions_Costate-Variable}), $R_{t}$ and $\pi_{t}$ must satisfy the following equations at steady state:
\input{04_Chapter-3/00C_Equations/Equation_Social-Planners-Problem_System-of-Equations-for-Steady-State.tex}
On top of the equations, necessary condition (\ref{Equation:Social-Planners-Problem_Meaning-of-Costate-Variable}) has to hold at the steady state simultaneously. Solving the system of three equations, we can uniquely identify $(R_{ss}, \pi_{ss})$, including the value of the control variable at the steady state (i.e., $Pr_{ss}$). As implied by the first equation in (\ref{Equation:Social-Planners-Problem_System-of-Equations-for-Steady-State}), $R_{ss}$ can be positive if $E \neq 0$. Using a Taylor series approximation, $\dot{R}_{t}$ and $\dot{\pi}_{t}$ can be linearized near the steady state $(R_{ss}, \pi_{ss})$, and this linearization process shows that the steady state of the infinite-horizon maximization problem is a saddle point, which is demonstrated in Figure \ref{Figure:Phase-Diagram_Saddle-Point}.\footnote{Regarding the saddle property, see \textit{9.5 Steady states in autonomous infinite-horizon problems} in \cite{Optimal-Control-Theory-and-Static-Optimization-in-Economics_Leonard-and-Long_1992}. And derivation details are provided in \ref{C3-Appendix_Derivations_Linearization-near-the-Steady-State-of-the-Social-Planners-Problem}.}
\afterpage{
    \begin{figure}[t!]
        \centering
        \includegraphics[scale = 0.195]{04_Chapter-3/00A_Figures/Figure_Equilibrium-Path_Endogenous-Price_Phase-Diagram_pi-by-R.png}
        \includegraphics[scale = 0.195]{04_Chapter-3/00A_Figures/Figure_Equilibrium-Path_Endogenous-Price_Phase-Diagram_Pr-by-R.png}
        \caption{Phase Diagrams for the Social Planner's Problem}
        \caption*{
            {\small
            \textit{Note}: 
            This figure demonstrates two phase diagrams for the social planner's problem. The upper diagram illustrates that the steady state is exactly a saddle point. This figure assumes that a dispersion parameter of $\sigma = 1$, an interest rate of $r = 0.15$, an initial number of well sites of $R_{0} = 10$, additional well sites of $E = 0$, and exogenously given constant oil prices of $p = 50$. Also, a linear cost function of $c(D_{t}) = 1 + 2D_{t}$ is assumed.  
        }}
        \label{Figure:Phase-Diagram_Saddle-Point}
    \end{figure}
}
